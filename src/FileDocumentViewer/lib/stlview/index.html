<!DOCTYPE html>
<html>
<head>
	<title>STL Viewer</title>
	
	<link href="css/stlviewer.css" rel="stylesheet">

	<script src="js/jquery.js"></script>
	<script src="js/modernizr.js"></script>
	<script src="js/jscolor/jscolor.js"></script>
	<script src="js/thingiview/Three.js"></script>
    <script src="js/thingiview/plane.js"></script>
    <script src="js/thingiview/thingiview.js"></script>


	<script>
	var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};

	$(document).ready(function() {

		thingiurlbase = "js/thingiview";
        thingiview = new Thingiview("stlviewer");
        thingiview.setObjectColor('#C0D8F0');
        thingiview.setBackgroundColor('#000');
		thingiview.initScene();
		thingiview.setCameraView('iso');
		if (getUrlParameter('file')) {
			thingiview.loadSTL(getUrlParameter('file'));	
		} else {
			thingiview.loadOBJ(getUrlParameter('objfile'));
		}
		
	});

	</script>
</head>
<body>        
	<div id="stlviewer"></div>
	<div id="message"></div>
	<!-- <div class="settings">
		Background: <input class="color" id="backround_colour" value="000000"> &nbsp; 	Model: <input class="color" id="model_colour" value="C0D8F0">
		&nbsp; 	Drag and drop STL files (binary or ascii) to the window to display.
	</div> -->
	

</body>
</html>